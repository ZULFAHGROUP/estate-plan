{"version":3,"file":"static/js/655.b8b98134.chunk.js","mappings":"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","sources":["components/fragments/Admin/Gallery/index.js","pages/Admin/Gallery/index.js"],"sourcesContent":["import  React, {useState} from 'react';\nimport { Modal } from 'react-responsive-modal';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n  \nexport default function Gallery({ estatePlans, customers }) {\n  const [open, setOpen] = useState(false);\n  const [estate_plan, setEstatePlan] = useState('');\n  const [details, setDetails] = useState('');\n  const [user_id, setUserId] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const createEstatePlan = async(e) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    const data = {\n      estate_plan,\n      details,\n      customer: user_id\n    }\n    const response = await axios.post('https://mapp-asset-tracker.azurewebsites.net/api/v1/admin/estate-plans', data, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('token'))\n      }\n    })\n\n    if (response.data.status === true) { \n      setIsSubmitting(false);\n      setOpen(false);\n      toast(\"Estate plans successfully created\");\n      window.location.reload();\n    }\n  }\n\n\n  const getEmailFromUserId = (user_id) => {\n    const _customers = JSON.parse(localStorage.getItem('customers'))\n    const _result = _customers.filter(item => item.user_id == user_id)\n    return _result[0].email\n  }\n\n  return (\n    <div>\n      <h1>Estate Plans</h1><hr /> <br />\n      <button style={{backgroundColor:\"blue\", padding:\"10px\", color:\"#fff\", borderRadius:\"5px\"}} className=\"btn \" onClick={() => setOpen(true)}>\n         + New \n      </button>\n\n     \n      {/* <form >\n          <div>\n            <label htmlFor=\"username\">Email</label>\n            <input\n              type=\"text\"\n              className={`w-full p-2 text-primary border rounded-md outline-none text-sm transition duration-150 ease-in-out mb-4`}\n              id=\"username\"\n              placeholder=\"Your Email\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              className={`w-full p-2 text-primary border rounded-md outline-none text-sm transition duration-150 ease-in-out mb-4`}\n              id=\"password\"\n              placeholder=\"Your Password\"\n            />\n          </div>\n\n          <div className=\"flex justify-center items-center mt-6\">\n            <button\n              className={`py-2 px-4 text-sm text-white rounded border bg-sky-400 border-sky-400 w-full`}>\n              Login\n            </button>\n          </div>\n        </form> */}\n       {\n      \n      <div className=\"rounded-t-xl bg-gradient-to-r from-emerald-50 to-teal-100 p-10\">\n          {\n            estatePlans.length > 0 ?\n              <table className=\"table\">\n                <thead>\n                  <tr>\n                    <th className=\"px-4 py-2 text-emerald-600\">sn</th>\n                    <th className=\"px-4 py-2 text-emerald-600\">Estate Plan</th>\n                    <th className=\"px-4 py-2 text-emerald-600\">Details</th>\n                    <th className=\"px-4 py-2 text-emerald-600\">Account</th>\n                    <th className=\"px-4 py-2 text-emerald-600\">createdAt</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {\n            \n                    estatePlans.map((item, i) => {\n                      return (<tr key={i}>\n                        <td className=\"border border-emerald-500 px-4 py-2 text-emerald-600 font-medium\">{i + 1}.</td>\n                        <td className=\"border border-emerald-500 px-4 py-2 text-emerald-600 font-medium\">{item.estate_plan}</td>\n                        <td className=\"border border-emerald-500 px-4 py-2 text-emerald-600 font-medium\">{item.details}</td>\n                        <td className=\"border border-emerald-500 px-4 py-2 text-emerald-600 font-medium\">{getEmailFromUserId(item.user_id)}</td>\n                        <td className=\"border border-emerald-500 px-4 py-2 text-emerald-600 font-medium\">{(item.created_at).split('T')[0]}</td>\n                    \n                      </tr>)\n                    })\n            \n                  }\n        \n         \n                </tbody>\n              </table>\n              :\n              <div className=\"flex justify-center items-center pt-10\">\n                No data yet\n              </div>\n          }\n       </div>\n      }\n\n      {\n        open &&\n        <Modal\n        open={open}\n        onClose={() => setOpen(false)}\n        center\n        classNames={{\n          overlayAnimationIn: 'customEnterOverlayAnimation',\n          overlayAnimationOut: 'customLeaveOverlayAnimation',\n          modalAnimationIn: 'customEnterModalAnimation',\n          modalAnimationOut: 'customLeaveModalAnimation',\n        }}\n        animationDuration={800}\n      >\n        <p>New Estate Plan</p><hr /><br />\n          <form onSubmit={createEstatePlan}>\n              <div>\n                <select onChange={(e) => setUserId(e.target.value)}\n                  className={`w-full p-2 text-primary border rounded-md outline-none text-sm transition duration-150 ease-in-out mb-4`}>\n                  <option value=\"\">Select Customer Email</option>\n                    {\n                      customers.map((item, i) => {\n                        return(<option key={i} value={item.id}>{item.email}</option>)\n                      })\n                    }\n                  </select>\n              </div>\n              <div>\n                <input\n                  type=\"text\"\n                  className={`w-full p-2 text-primary border rounded-md outline-none text-sm transition duration-150 ease-in-out mb-4`}\n                  id=\"username\"\n                placeholder=\"Estate Plan Name\"\n                onChange={(e) => setEstatePlan(e.target.value)}\n                />\n              </div>\n              <div>\n                <textarea\n                   className={`w-full p-2 text-primary border rounded-md outline-none text-sm transition duration-150 ease-in-out mb-4`}\n                   id=\"details\"\n                    placeholder=\"Tell us this user estate plan\"\n                    onChange={(e)=>setDetails(e.target.value)}\n                  />\n                \n              </div>\n              <div className=\"flex justify-center items-center mt-6\">\n              <button\n                style={{backgroundColor:'#008145'}}\n                  className={`py-2 px-4 text-sm text-white rounded border  w-full`}>\n                  {isSubmitting ? 'Loading, Please wait...' : 'Create Estate Plan'}\n                </button>\n              </div>\n          </form>\n      </Modal>\n      } \n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport Gallery from '../../../components/fragments/Admin/Gallery';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\n\nexport default function Content() {\n  const [estatePlans, setEstatePlans] = useState([]);\n  const [customers, setCustomers] = useState([]);\n\n  useEffect(() => {\n    document.title = 'Estate Plans';\n    axios.get('https://mapp-asset-tracker.azurewebsites.net/api/v1/admin/estate-plans', {\n      headers: {\n        'Content-Type': 'application/json',\n         Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('token'))\n      }\n    })\n      .then((response) => {\n        setEstatePlans(response.data.data);\n        setCustomers(JSON.parse(localStorage.getItem('customers')));\n    \n    }\n    ).catch((error) => { \n        if(error.response.status == 401) {\n          localStorage.clear();\n          <Redirect to=\"/login\" />\n        }\n      });\n  }, []);\n\n  return (\n    <div>\n      <Gallery estatePlans={estatePlans} customers={customers} />\n    </div>\n  );\n}\n"],"names":["Gallery","estatePlans","customers","useState","open","setOpen","estate_plan","setEstatePlan","details","setDetails","user_id","setUserId","isSubmitting","setIsSubmitting","createEstatePlan","e","preventDefault","data","customer","axios","headers","Authorization","JSON","parse","localStorage","getItem","status","toast","window","location","reload","getEmailFromUserId","filter","item","email","style","backgroundColor","padding","color","borderRadius","className","onClick","length","map","i","created_at","split","onClose","center","classNames","overlayAnimationIn","overlayAnimationOut","modalAnimationIn","modalAnimationOut","animationDuration","onSubmit","onChange","target","value","id","type","placeholder","Content","setEstatePlans","setCustomers","useEffect","document","title","then","response","catch","error","clear"],"sourceRoot":""}